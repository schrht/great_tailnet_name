{"extVersion":"1.28.27","name":"Auto Reroll Tailnet Names","icon":"riGlobalLine","table":[],"version":"1.28.27","drawflow":{"nodes":[{"type":"BlockBasic","data":{"disableBlock":false,"description":"","type":"manual","interval":60,"delay":5,"date":"","time":"00:00","url":"","shortcut":"","activeInInput":false,"isUrlRegex":false,"days":[],"contextMenuName":"","contextTypes":[],"parameters":[],"preferParamsInTab":false,"observeElement":{"selector":"","baseSelector":"","matchPattern":"","targetOptions":{"subtree":false,"childList":true,"attributes":false,"attributeFilter":[],"characterData":false},"baseElOptions":{"subtree":false,"childList":true,"attributes":false,"attributeFilter":[],"characterData":false}}},"events":{},"position":{"x":67.97729600283458,"y":458.4419217780927},"id":"-Nv8RhfbOw24vdIfuSy-1","label":"trigger"},{"type":"BlockBasic","data":{"disableBlock":false,"description":"Click \"Re-roll options\"","findBy":"xpath","waitForSelector":false,"waitSelectorTimeout":5000,"selector":"//*[@id=\"radix-:r2:\"]/form/button","markEl":false,"multiple":false},"events":{},"position":{"x":391,"y":457},"label":"event-click","id":"qo003tk"},{"type":"BlockDelay","data":{"disableBlock":false,"time":"1000"},"events":{},"position":{"x":697.7409015462171,"y":433.0663580374735},"label":"delay","id":"wsuw0gb"},{"type":"BlockBasic","data":{"disableBlock":false,"description":"Get options","findBy":"xpath","waitForSelector":false,"waitSelectorTimeout":5000,"selector":"//*[@id=\"radix-:r2:\"]/form/div/label","markEl":false,"multiple":true,"regex":"","prefixText":"","suffixText":"","regexExp":["m"],"dataColumn":"","saveData":false,"includeTags":false,"addExtraRow":false,"assignVariable":true,"useTextContent":true,"variableName":"option_names","extraRowValue":"","extraRowDataColumn":"","settings":{"blockTimeout":0,"debugMode":false},"onError":{"retry":false,"enable":false,"retryTimes":1,"retryInterval":2,"toDo":"error","insertData":false,"dataToInsert":[]}},"events":{},"position":{"x":995.8488274910671,"y":456.07140439883847},"label":"get-text","id":"zrgfaee"},{"type":"BlockBasic","data":{"disableBlock":true,"name":"test.json","refKey":"","type":"json","description":"","variableName":"option_names","csvDelimiter":",","addBOMHeader":true,"onConflict":"uniquify","dataToExport":"variable"},"events":{},"position":{"x":521.5395332149697,"y":695.809833802937},"label":"export-data","id":"dln7bpm"},{"type":"BlockConditions","data":{"description":"","disableBlock":false,"conditions":[{"id":"9wbrnpdB9v2PoBHcKAo81","name":"Candidate found","conditions":[{"id":"N1AKVQ8MlK7w1Bk0qfknS","conditions":[{"id":"GQVxrQhAZMEaV8K6yDTUj","items":[{"type":"code","category":"value","data":{"code":"// variable option_names from pervious block\nconst option_names = automaRefData('variables', 'option_names');\nconsole.log(option_names);\n\n// Keywords\nconst keywords = [\n  \"universe\",\n  \"mountain\",\n  \"lake\",\n  \"in\",\n  \"great\",\n  //\"monitor\",\n  \"royal\",\n  \"sun\",\n  \"golden\",\n  //\"dojo\",\n  \"king\",\n  \"boston\",\n  //\"little\",\n  //\"wild\",\n  //\"ghost\",\n  \"galaxy\",\n  //\"minor\",\n  //\"tet\", // Animal Names below\n  //\"bee\",\n  //\"python\",\n  //\"chicken\",\n  //\"sunfish\",\n  //\"cow\",\n  //\"goose\",\n  //\"duck\",\n  //\"horse\",\n  \"dragon\",\n  //\"fish\",\n  \"wolf\",\n  //\"bear\",\n  //\"lobster\",\n  \"hawk\"\n];\n\n// length of a short name\nconst short_name_length = 15  // e.g. xxx-xxxx.ts.net\n\n// Check if any keyword or short name exists in any option_names\nvar found = false;\nfor (var i = 0; i < option_names.length; i++) {\n  var currentOptionName = option_names[i];\n  //console.log(currentOptionName);\n\n  // Check short name\n  if (currentOptionName.includes('-') && currentOptionName.length <= short_name_length) {\n    console.log(`The option name '${currentOptionName}' is a short one.`);\n    found = true;\n  }\n\n  // Check keyword in name\n  if (currentOptionName.endsWith('.ts.net')) {\n    var currentName = currentOptionName.replace('.ts.net', '');\n  }\n        \n  if (currentName.includes('-')) {\n    currentName = currentName.split('-');\n  } else {\n    currentName = [currentName];\n  }\n\n  for (var j = 0; j < currentName.length; j++) {\n    //console.log(currentName[j]);\n\n    for (var k = 0; k < keywords.length; k++) {\n      var currentKeyword = keywords[k];\n  \n      if (currentName[j] == currentKeyword) {\n        console.log(`Keyword '${currentKeyword}' found in option name '${currentOptionName}'`);\n        found = true;\n      }\n    }\n  }\n}\n\nreturn found;\n","context":"website"},"id":"lKo839QA0loiQlfbLivAr"}]}]}]}],"retryConditions":false,"retryCount":10,"retryTimeout":1000},"events":{},"position":{"x":62.168846008416836,"y":642.5337822877425},"label":"conditions","id":"s86n8ci"},{"type":"BlockDelay","data":{"disableBlock":false,"time":500},"events":{},"position":{"x":827.286563205017,"y":740.2128472203465},"label":"delay","id":"1p79pfn"}],"edges":[{"type":"custom","updatable":true,"selectable":true,"markerEnd":"arrowclosed","sourceHandle":"-Nv8RhfbOw24vdIfuSy-1-output-1","targetHandle":"qo003tk-input-1","source":"-Nv8RhfbOw24vdIfuSy-1","target":"qo003tk","data":{},"events":{},"id":"vueflow__edge--Nv8RhfbOw24vdIfuSy-1-Nv8RhfbOw24vdIfuSy-1-output-1-qo003tkqo003tk-input-1","sourceX":279.977327963005,"sourceY":494.4419263438313,"targetX":370.9999191787819,"targetY":493.0000045657386},{"sourceHandle":"qo003tk-output-1","targetHandle":"wsuw0gb-input-1","type":"custom","source":"qo003tk","target":"wsuw0gb","updatable":true,"selectable":true,"data":{},"events":{},"markerEnd":"arrowclosed","id":"vueflow__edge-qo003tkqo003tk-output-1-wsuw0gbwsuw0gb-input-1","sourceX":603.0000319601704,"sourceY":493.0000045657386,"targetX":677.740820724999,"targetY":491.6522891527363},{"sourceHandle":"wsuw0gb-output-1","targetHandle":"zrgfaee-input-1","type":"custom","source":"wsuw0gb","target":"zrgfaee","updatable":true,"selectable":true,"data":{},"events":{},"markerEnd":"arrowclosed","id":"vueflow__edge-wsuw0gbwsuw0gb-output-1-zrgfaeezrgfaee-input-1","sourceX":909.7409335063875,"sourceY":491.6522891527363,"targetX":975.8488552538157,"targetY":492.0714089645771},{"source":"dln7bpm","id":"edge-n9iljdd","target":"","sourceHandle":"dln7bpm-output-1","targetHandle":""},{"target":"dln7bpm","id":"edge-wfbcwn7","source":"","targetHandle":"dln7bpm-input-1","sourceHandle":""},{"sourceHandle":"zrgfaee-output-1","targetHandle":"s86n8ci-input-1","type":"custom","source":"zrgfaee","target":"s86n8ci","updatable":true,"selectable":true,"data":{},"events":{},"markerEnd":"arrowclosed","id":"vueflow__edge-zrgfaeezrgfaee-output-1-s86n8cis86n8ci-input-1","sourceX":1207.8489680352043,"sourceY":492.0714089645771,"targetX":42.16887377116544,"targetY":721.1197670782317},{"sourceHandle":"s86n8ci-output-9wbrnpdB9v2PoBHcKAo81","targetHandle":"dln7bpm-input-1","type":"custom","source":"s86n8ci","target":"dln7bpm","updatable":true,"selectable":true,"data":{},"events":{},"class":"connected-edges","markerEnd":"arrowclosed","id":"vueflow__edge-s86n8cis86n8ci-output-9wbrnpdB9v2PoBHcKAo81-dln7bpmdln7bpm-input-1","sourceX":339.168977761596,"sourceY":731.7134903266169,"targetX":501.53945239375156,"targetY":731.8098383686756},{"sourceHandle":"s86n8ci-output-fallback","targetHandle":"1p79pfn-input-1","type":"custom","source":"s86n8ci","target":"1p79pfn","updatable":true,"selectable":true,"data":{},"events":{},"markerEnd":"arrowclosed","id":"vueflow__edge-s86n8cis86n8ci-output-fallback-1p79pfn1p79pfn-input-1","sourceX":338.1690280125184,"sourceY":773.7135514672083,"targetX":807.2865909677656,"targetY":798.7987511896175},{"sourceHandle":"1p79pfn-output-1","targetHandle":"qo003tk-input-1","type":"custom","source":"1p79pfn","target":"qo003tk","updatable":true,"selectable":true,"data":{},"events":{},"markerEnd":"arrowclosed","id":"vueflow__edge-1p79pfn1p79pfn-output-1-qo003tkqo003tk-input-1","sourceX":1039.2867037491542,"sourceY":798.7987511896175,"targetX":370.9999191787819,"targetY":493.0000045657386}],"position":[94.9812389669396,-86.0745217251366],"zoom":0.5621011892560135,"viewport":{"x":94.9812389669396,"y":-86.0745217251366,"zoom":0.5621011892560135}},"settings":{"publicId":"","blockDelay":0,"saveLog":true,"debugMode":false,"restartTimes":3,"notification":true,"execContext":"popup","reuseLastState":false,"inputAutocomplete":true,"onError":"stop-workflow","executedBlockOnWeb":false,"insertDefaultColumn":false,"defaultColumnName":"column"},"globalData":"{\n\t\"key\": \"value\"\n}","description":"Auto Re-roll the Tailnet names until a short name or a keyword in name appears.","includedWorkflows":{}}